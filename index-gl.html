<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES" xml:lang="es-ES">

    <head>
    	<title>Documentación de e-cidadania</title>
    	<link rel="shortcut icon" href="favicon.ico" type="image/ico"/>
    	<link rel="icon" href="favicon.ico" type="image/ico"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    	<link rel="stylesheet" type="text/css" href="css/style.css" />
    </head>

    <body>
    
    <div id="wrapper">
    
        <div id="header">
            <h1><img src="img/logo-gl.png" /><br /><br />Selecciona a túa documentación</h1>
        </div>
        
        <!--
        <div id="warning" style="background: #FCC;border: 1px solid #FAA;">
            Actualmente sólo se atopa dispoñible a documentación de <strong>desenvolvemento</strong>
            debido á inconsistencia da documentación antiga.
        </div>
        -->
        
        <form name="selectors" action="" style="text-align: center;">
            <select id="language" onchange="changeOpts();">
                <option value="">-- Idioma --</option>
                <option value="en">English</option>
                <option value="es">Español</option>
                <option value="gl">Galego</option>
            </select>

            <select id="version">
                <option value="">-- Versión --</option>
            </select>  

            <br />
            <br />
            <input type="submit" onclick="doRedirect();" style="height: 40px; width: 150px;" value="Ler online">
            <input type="submit" onclick="getDocs('pdf');" style="height: 40px; width: 150px;" value="Baixar PDF">
            <input type="submit" onclick="getDocs('tar.gz');" style="height: 40px; width: 150px;" value="Baixar LaTeX">
        </form>

        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript">
            function doRedirect() {
                var language = document.selectors.language.value;
                var version = document.selectors.version.value;
                
                if (language == "" || version == "") {
                    alert("Non seleccionaches idioma ou versión.")
                } else {
                    document.selectors.action = language + '/' + version
                }
            }
            
            function getDocs(format) {
                var language = document.selectors.language.value;
                var version = document.selectors.version.value;
                
                if (language == "" || version == "") {
                    alert("Non seleccionaches idioma ou versión.")
                } else {
                    document.selectors.action = language + '/' + version + '-' + language + '.' + format
                }
            }
           
            function changeOpts() {
                var esOptions = {"-- Versión --": "", "desenvolvemento": "latest", "0.1 beta": "0.1b", "0.1 alfa": "0.1a"};
                var enOptions = {"-- Versión --": "", "desenvolvemento": "latest", "0.1 beta": "0.1b"};
                var glOptions = {"-- Versión --": "", "desenvolvemento": "latest", "0.1 beta": "0.1b"};
                var language = document.selectors.language.value;
                var $el = $("#version");
                $el.empty(); // remove old options
                // I can't figure out right now a better way to do this, so welcome
                // to noob time!
                if (language == 'es') {
                    $.each(esOptions, function(key, value) {
                        $el.append($("<option></option>").attr("value", value).text(key));
                    });
                } else if (language == 'en') {
                    $.each(enOptions, function(key, value) {
                        $el.append($("<option></option>").attr("value", value).text(key));
                    });
                } else if (language == 'gl') {
                    $.each(glOptions, function(key, value) {
                        $el.append($("<option></option>").attr("value", value).text(key));
                    });
                }
            }
        </script>
        
        <div id="footer">
            <p>Esta páxina tamén está dispoñible en: <a href="index.html">English</a>, <a href="index-es.html">Español</a></p><br />
            <p>A documentación de e-cidadania xérase automáticamente con <a href="http://sphinx.pocoo.org">sphinx</a> 1.1.2 cada dia ás 00:00 PST (UTC -08:00)</p>
        </div>
        
    </div>
    
    </body>

</html>

